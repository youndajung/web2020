<!DOCTYPE html>
<html lang="ko">
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<meta charset="UTF-8">
	<title>svg</title>
	<link rel="stylesheet" href="../css/reset.css">
	<script src="../js/jquery-3.1.1.min.js"></script>
	<style type="text/css">
		body{background-color:skyblue;}
		.st0{
			fill:none;stroke:#f00;
			stroke-width:20;
			stroke-miterlimit:10;
			stroke-dasharray:600;
			stroke-dashoffset:600;
			stroke-linecap:round;
			/*animation: lineAni 1s infinite  linear;	*/
		}
		@keyframes lineAni{
			to{stroke-dashoffset:0;}
		}



	</style>
	<script>
		$(function(){
			var path=$(".svgWrapper path").get(0);
			var total_length=path.getTotalLength();
			console.log(total_length);
			$(window).scroll(function(){
				var scrollTop=$(this).scrollTop();
				var sScroll=200;
				var eScroll=600;
				var x;
				// (eScroll-sScroll):(scrollTop-sScroll)=(0-total_length):(x-total_length);
				// (x-total_length)*(eScroll-sScroll)=(0-total_length)*(scrollTop-sScroll);
				// (x-total_length)=((0-total_length)*(scrollTop-sScroll))/(eScroll-sScroll);
				x=((0-total_length)*(scrollTop-sScroll))/(eScroll-sScroll)+total_length;
				console.log("스크롤톱:"+scrollTop+"과 x값:"+x);

				if(x>total_length){x=total_length};
				if(x<0){x=0};
				$(".st0").css({"stroke-dashoffset":x});


			});

		});
	</script>
	
</head>
<body>
	<div style="height: 500px;"></div>
	<div class="svgWrapper">
		<svg id="Layer_1" x="0px" y="0px" width="500px" height="500px" viewBox="0 0 500 500">
			<path class="st0" d="M127,0c-13.979,83.844-44.682,192.278,20.571,262.488c27.144,29.206,62.185,49.637,101.249,57.031
		c33.846,6.406,73.594,11.535,97.18,40.481c11.61,14.247,20.266,29.724,24.362,47.677C374.04,423.79,376.254,437.749,391,448"/>
		</svg>
	</div>
	
	<div style="height: 800px;"></div>
</body>
</html>