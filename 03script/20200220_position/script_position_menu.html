<!DOCTYPE html>
<html lang="ko">
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<meta charset="UTF-8">
	<title>position_menu</title>
	<link rel="stylesheet" href="../../css/reset.css">
	<script src="../../js/jquery-3.1.1.min.js"></script>
	<script>
		$(function(){
			// basic menu
			 // var oneTop=$("#v01s").offset().top;
			 // var twoTop=$("#v02s").offset().top;
			 // var threeTop=$("#v03s").offset().top;

			 // $(".menu>a").eq(0).click(function(){
			 // 	$("html").animate({scrollTop:oneTop},300);
			 // });
			 // $(".menu>a").eq(1).click(function(){
			 // 	$("html").animate({scrollTop:twoTop},300);
			 // });
			 // $(".menu>a").eq(2).click(function(){
			 // 	$("html").animate({scrollTop:threeTop},300);
			 // });

			 // 2st menu
			 // var menu=$(".menu>a");
			 // var section=$(".scene");

			 // menu.click(function(){
			 // 	var i=$(this).index();
			 // 	console.log(i);
			 // 	var st=section.eq(i).offset().top;
			 // 	$("html").stop().animate({scrollTop:st},300);
			 // });

			 // 3st menu
			 $(".menu>a").click(function(){
			 	var target=$(this.hash);//hash는 this의 점,타겟이다
			 	var st= target.offset().top;
			 	$("html").animate({scrollTop:st},300);
			 	return false;
			});

			 var menu=$(".menu>a");
			 var section=$(".scene");

			 //2st for
			//  $(window).scroll(function(){
			//  	var scrollY=$(window).scrollTop();
			//  	for(var i=0; i<=2; i++){
			//  		if($(".scene").eq(i).offset().top<=scrollY){
			//  		$(".menu>a").removeClass("on").eq(i).addClass("on");
			//  	}
			//  	};
			// });

			//3st each
			$(window).scroll(function(){
				var scrollY=$(window).scrollTop();
				section.each(function(){
					var i=$(this).index()-1;
					console.log(i);
				});
			});
			 	
			
		});
	</script>
	<style>
		html,body{height: 100%;}
		.scene{
			width: 100%; height: 100%;
			background-attachment: fixed; /*모바일에서 사용불가*/
			background-position: center;
			background-size: cover;
			position: relative;
		}
		.scene.one{background-image: url(../../images/pc01.jpg)}
		.scene.two{background-image: url(../../images/pc02.jpg)}
		.scene.three{background-image: url(../../images/pc03.jpg)}

		.scene div{
			width: 600px; 
			position: absolute; left: 50%; top: 50%; 
			transform:translate(-50%,-50%);
			color:#fff;
			text-align: center;
		}
		.scene h1:after{
			content:""; display: block;
			width: 100%; height: 2px; 
			background-color: #fff;
			margin: 10px;
		}
		.menu{
			position: fixed;
			width: 100%; height: 40px;
			background-color: gray;
			z-index: 1;
			padding-left: 30px;
		}
		.menu a{text-align: center; display: inline-block; line-height: 40px; }
		.menu a.on{background-color: #f00;}
	</style>
</head>
<body>
	<nav class="menu">
		<a href="#v01s">menu1</a><!-- 자기 페이지 내에서 이동시 #은 아이디를 의미한다.  -->
		<a href="#v02s">menu2</a>
		<a href="#v03s">menu3</a>
	</nav>
	<section class="scene one" id="v01s">
		<div>
			<h1>Lorem ipsum dolor sit amet.</h1>
			<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Mollitia, veniam! Natus aut iusto facilis minus. Earum incidunt officiis id, adipisci!</p>
		</div>
	</section>
	<section class="scene two" id="v02s">
		<div>
			<h1>Lorem ipsum dolor sit amet.</h1>
			<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Mollitia, veniam! Natus aut iusto facilis minus. Earum incidunt officiis id, adipisci!</p>
		</div>
	</section>
	<section class="scene three" id="v03s">
		<div>
			<h1>Lorem ipsum dolor sit amet.</h1>
			<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Mollitia, veniam! Natus aut iusto facilis minus. Earum incidunt officiis id, adipisci!</p>
		</div>
	</section>
</body>
</html>